module:
    description: >
        Proxy is not a visible module. The task is to pre-configure the
        virtual environment to use an HTTP/HTTPS proxy based on environment
        variables. The applications themselves may need to be configured
        directly if they cannot use HTTP_PROXY / HTTPS_PROXY / NO_PROXY
        automatically.

    depends: Platform

    commons: |
        SET HTTP_PROXY_HOST=#[environment.proxy.host]
        SET HTTP_PROXY_PORT=#[environment.proxy.port]
        SET HTTP_PROXY=#[environment.proxy.schema]://%HTTP_PROXY_HOST%:%HTTP_PROXY_PORT%
        SET HTTPS_PROXY=%HTTP_PROXY%
        SET NO_PROXY=127.0.0.1,localhost